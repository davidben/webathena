<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ctlfish</title>
    <script src="/sockjs.min.js"></script>
    <script src="/q.min.js"></script>
    <script src="/sjcl.js"></script>
    <script src="/crypto-js-tripledes.js"></script>
    <script src="/winchan.js"></script>
    <script src="/encoding.js"></script>

    <script src="/webathena.js"></script>
    <script src="/gss.js"></script>

    <script src="/remctl.js"></script>
    <script src="/ctlfish.js"></script>
    <style>
      .stream2 {
        font-style: italic;
      }
      .error {
        color: red;
      }
    </style>
  </head>
  <body>
    <h1>ctlfish</h1>

    <p><i>Changing the volume on <code>sipbmp3</code> has never been
        this fun!</i></p>

    <p>
      This is a demonstration
      of <a href="https://webathena.mit.edu">Webathena</a>'s GSS-API
      implementation. It is
      a <code><a href="http://www.eyrie.org/~eagle/software/remctl/">remctl<a/></code>
      client that runs entirely in the browser. A WebSockets to TCP
      proxy is used to communicate with the target server. (If
      WebSockets is
      unavailable, <a href="http://sockjs.org/">SockJS</a> is used
      as fallback.) This page receives only credentials for the target
      service and those credentials themselves never leave your
      browser.
    </p>

    <p>Run your own remctl server? Email <code>davidben</code> at MIT
    to get it added to the list. <s>(The proxy needs a server
    whitelist so people can't use it to abuse anything that treats the
    MIT network as special.)</s> Actually, I probably don't need a
    whitelist anymore now that it's running on this OpenShift
    thing. Will need to tweak that.</p>

    <form id="remctl-form" action="about:blank">
      <label><b>Server:</b>
        <select name="server">
          <option value="xvm-remote.mit.edu">xvm-remote.mit.edu</option>
          <option value="zygorthian-space-raiders.mit.edu">zsr.mit.edu</option>
          <option value="sql.mit.edu">sql.mit.edu</option>
        </select>
      </label>
      <br>
      <label>
        <b>Command:</b> <input name="command" size="40" value="help">
      </label>
      <input name="submit" type="submit" value="Run">
    </form>
    <p><b>Results:</b></p>
    <pre id="output"></pre>

    <h2>Examples</h2>
    <p>Here are some queries to try:</p>
    <ul>
      <li><code>volume get</code> on <code>zsr.mit.edu</code></li>
      <li><code>list</code> on <code>xvm-remote.mit.edu</code></li>
    </ul>
  </body>
</html>
